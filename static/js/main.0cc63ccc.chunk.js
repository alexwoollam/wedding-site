(this["webpackJsonpwedding-site"]=this["webpackJsonpwedding-site"]||[]).push([[0],{111:function(t,e){},235:function(t,e,a){},286:function(t,e){},288:function(t,e){},298:function(t,e){},300:function(t,e){},326:function(t,e){},328:function(t,e){},329:function(t,e){},334:function(t,e){},336:function(t,e){},342:function(t,e){},344:function(t,e){},363:function(t,e){},375:function(t,e){},378:function(t,e){},431:function(t,e,a){"use strict";a.r(e);var n=a(1),r=a.n(n),c=a(218),i=a.n(c),s=(a(235),a(236),a(16)),o=a(225),d=a(2);var u=function(t){return t.text?Object(d.jsx)("h1",{className:"text-grey-700 font-serif text-3xl text-center m-2","data-testid":"text-block",children:t.text}):null},l=a(433),j=a(434),b=a(435);var O=function(t){return t.src?Object(d.jsx)(l.a,{className:"Header flex justify-center","data-testid":"header-image-block",children:Object(d.jsx)(j.a,{className:"col-sm-12 col-md-6 m-auto",children:Object(d.jsx)(b.a,{center:"true",children:Object(d.jsx)(b.a,{object:!0,"data-src":t.src,alt:t.alt})})})}):null};var m=function(t){return t.text?Object(d.jsx)("p",{className:"text-block text-gray-600 font-sans text-base text-center","data-testid":"text-block",children:t.text}):null},h=a(42),f=a(226),x=a(14),T=a.n(x),_=a(219),v=a(220);var S=function(t,e,a){var n=Object({NODE_ENV:"production",PUBLIC_URL:"/wedding-site",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_G_USR,r=Object({NODE_ENV:"production",PUBLIC_URL:"/wedding-site",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_G_KEY,c=new v.GoogleSpreadsheet(e);if(t.Name.length<=0||t.Email.length<=0)return!1;var i=function(){var e=Object(_.a)(T.a.mark((function e(i){var s;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.useServiceAccountAuth({client_email:n,private_key:r.replace(/\\n/g,"\n")});case 3:return e.next=5,c.loadInfo();case 5:return s=c.sheetsById[a],e.next=8,s.addRow(t);case 8:return e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(0),console.error("Error: ",e.t0),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return!("null"===n||"null"===r||!i(t))},p=a(228),k=a(229);var E=function(t){return t.text?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("label",{"data-tip":!0,"data-for":"registerTip","data-testid":"info",className:"font-mono my-6",children:t.text}),Object(d.jsx)(k.a,{id:"registerTip",place:"top",effect:"solid",children:t.tooltip})]}):null},g=a(436),C=a(437),N=a(438);var P=function(t){var e={thanks:"Thanks, "+t.name+"!!"};return Object(d.jsx)("div",{children:Object(d.jsx)(u,{text:e.thanks})})};function R(t){return t.name&&t.email?Object(d.jsx)(g.a,{type:"submit",className:"my-3 transform bg-indigo-600 hover:bg-indigo-300 rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500","aria-expanded":"false","data-testid":"submit-button",children:"Submit"}):null}var y="Keep me updated",A="We will use this information to keep you updated when important information has been added to this site!";var w=function(){var t=Object({NODE_ENV:"production",PUBLIC_URL:"/wedding-site",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SPREADSHEET_ID,e=Object({NODE_ENV:"production",PUBLIC_URL:"/wedding-site",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SHEET_ID,a=Object({NODE_ENV:"production",PUBLIC_URL:"/wedding-site",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_RECAPTCHAKEY,n=r.a.useState({name:"",email:"",form:!1}),c=Object(f.a)(n,2),i=c[0],s=c[1],o={Name:i.name,Email:i.email};if(i.form){var u=i.name;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(P,{name:u})})}return Object(d.jsx)(j.a,{md:6,className:"m-auto mt-3",children:Object(d.jsxs)(C.a,{onSubmit:function(a){a.preventDefault(),S(o,t,e)&&s(Object(h.a)(Object(h.a)({},i),{},{form:!0}))},className:"m-auto max-w-md my-10",children:[Object(d.jsx)(E,{text:y,tooltip:A}),Object(d.jsx)(N.a,{id:"name",type:"text",className:"mb-3 p-3 block w-full rounded-md bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0",placeholder:"Arya Stark",onChange:function(t){s(Object(h.a)(Object(h.a)({},i),{},{name:t.target.value}))}}),Object(d.jsx)(N.a,{id:"email",type:"email",className:"p-3 block w-full rounded-md bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0",placeholder:"arya_stark@winterfell.gov",onChange:function(t){s(Object(h.a)(Object(h.a)({},i),{},{email:t.target.value}))}}),Object(d.jsx)(p.a,{sitekey:a,size:"invisible"}),Object(d.jsx)(R,{name:i.name,email:i.email})]})})},D=a.p+"static/media/wedding-top.d36994dd.png",F=a(439),L="Alex & Lydia are Getting Married!",H="MORE INFORMATION COMING SOON...",K={src:D,alt:"Illustration of a boquet of flowers"};var W=function(){return Object(d.jsxs)(F.a,{children:[Object(d.jsx)(O,{src:K.src,alt:K.alt}),Object(d.jsx)(l.a,{className:"Intro",children:Object(d.jsxs)(j.a,{md:12,className:"m-auto",children:[Object(d.jsx)(u,{text:L}),Object(d.jsx)(m,{text:H}),Object(d.jsx)(w,{})]})})]})},I=a(221),U=a(222),B=a(41),V=a(230),M=a(227),G=a(223),Y=a.n(G),z=a(224),J=a.n(z),q=a(440),Q=a(441),X=a(442),Z=a(443),$=a(444);var tt=function(t){if(!t.data)return null;var e=Object.values(t.data);return e[1]?Object(d.jsx)(F.a,{className:"container mx-auto",children:Object(d.jsx)(l.a,{children:e[1].map((function(e,a){return Object(d.jsx)(j.a,{sm:12,md:4,children:Object(d.jsxs)(q.a,{className:"box-border m-3 p-2 border-4 rounded",children:[Object(d.jsx)(Q.a,{src:e.album.images[1].url,alt:"artwork for "+e.name}),Object(d.jsx)(g.a,{"data-testid":"add-track",onClick:function(){return t.addTrack(e.id,e.name,e.artists[0].name,e.album.images[2].url)},children:"Add track"}),Object(d.jsxs)(X.a,{children:[Object(d.jsx)(Z.a,{tag:"h4",children:e.name}),Object(d.jsx)($.a,{tag:"h5",children:e.artists[0].name}),Object(d.jsx)("br",{}),e.preview_url?Object(d.jsx)("div",{"data-testid":"preview-button",children:Object(d.jsx)(J.a,{className:"w-100",src:e.preview_url,controls:!0})}):null]})]})},a)}))})}):null};var et=function(t){if(!t.data)return null;var e=t.data;return e.length>0?Object(d.jsx)(F.a,{className:"mb-3",children:e.map((function(e,a){return Object(d.jsxs)(l.a,{style:{border:"2px dashed lightgrey"},className:"p-3 mt-2 rounded",children:[Object(d.jsx)(j.a,{md:1,children:Object(d.jsx)("img",{className:"rounded",src:null===e||void 0===e?void 0:e.trackimage,alt:"artwork for "+e.trackname})}),Object(d.jsxs)(j.a,{children:[Object(d.jsx)("h4",{children:e.trackname}),Object(d.jsx)("h5",{children:e.trackartist})]}),Object(d.jsx)(j.a,{md:1,className:"d-flex justify-content-center",children:Object(d.jsx)(g.a,{"data-testid":"remove-button",className:"btn-danger",onClick:function(){return t.removeTrack(e.id)},children:"Remove"})})]},a)}))}):null},at=function(t){Object(V.a)(a,t);var e=Object(M.a)(a);function a(t){var n;return Object(I.a)(this,a),(n=e.call(this,t)).state={theToken:[],spotifyCreds:!0,trackList:[],theTracks:{tracks:[]}},n.searchForTrack=n.searchForTrack.bind(Object(B.a)(n)),n.addTrack=n.addTrack.bind(Object(B.a)(n)),n.removeTrack=n.removeTrack.bind(Object(B.a)(n)),n.submitTracks=n.submitTracks.bind(Object(B.a)(n)),n}return Object(U.a)(a,[{key:"addTrack",value:function(t,e,a,n){var r=0;this.state.trackList&&(r=this.state.trackList.length);var c={id:r,trackid:t,trackname:e,trackartist:a,trackimage:n},i=this.state.trackList.concat(c);this.setState({trackList:i})}},{key:"removeTrack",value:function(t){var e=this.state.trackList.filter((function(e){return e.id!==t}));this.setState({trackList:e})}},{key:"componentDidMount",value:function(){var t=this,e=Object({NODE_ENV:"production",PUBLIC_URL:"/wedding-site",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SPOTIFYCLI,a=Object({NODE_ENV:"production",PUBLIC_URL:"/wedding-site",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SPOTIFYSEC,n=btoa(e+":"+a);fetch("https://accounts.spotify.com/api/token",{body:"grant_type=client_credentials",headers:{Authorization:"Basic "+n,"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},method:"POST"}).then((function(t){return t.json()})).then((function(e){return t.setState({theToken:e.access_token})}))}},{key:"submitTracks",value:function(){var t=[];return this.state.trackList.map((function(e){return t.push("spotify:track:"+e.trackid)})),t}},{key:"searchForTrack",value:function(t){var e=this,a=new Y.a;a.setAccessToken(this.state.theToken),a.searchTracks(t.target.value).then((function(t){e.setState({theTracks:t})}))}},{key:"render",value:function(){return Object(d.jsxs)(j.a,{className:"m-auto",children:[Object(d.jsx)(g.a,{"data-testid":"submit-button",onClick:this.submitTracks,children:"Lets rock!"}),Object(d.jsx)(et,{data:this.state.trackList,removeTrack:this.removeTrack,isSelected:!0}),Object(d.jsx)(C.a,{className:"m-auto max-w-md my-10",children:Object(d.jsx)(N.a,{type:"text",id:"search-track","data-testid":"search-input",className:"p-3 block w-full rounded-md bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0",placeholder:"Song title",onChange:this.searchForTrack})}),Object(d.jsx)(tt,{data:this.state.theTracks.tracks,addTrack:this.addTrack})]})}}]),a}(n.Component),nt="What music would you dance too?";var rt=function(){return Object(d.jsx)(l.a,{className:"App container mx-auto",children:Object(d.jsxs)(j.a,{className:"Intro",children:[Object(d.jsx)(u,{text:nt}),Object(d.jsx)(at,{})]})})};var ct=function(){var t=null,e=null,a=null;return"true"===Object({NODE_ENV:"production",PUBLIC_URL:"/wedding-site",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DEV_MODE&&(t=Object(d.jsx)(s.a,{path:"/directions",children:Object(d.jsx)("h1",{children:"directions"})}),e=Object(d.jsx)(s.a,{path:"/music",children:Object(d.jsx)(rt,{})}),a=Object(d.jsx)(s.a,{path:"/rsvp",children:Object(d.jsx)("h1",{children:"rsvp"})})),Object(d.jsx)(o.a,{children:Object(d.jsxs)(s.c,{children:[t,e,a,Object(d.jsx)(s.a,{path:"/",component:W})]})})},it=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,445)).then((function(e){var a=e.getCLS,n=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;a(t),n(t),r(t),c(t),i(t)}))};i.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(ct,{})}),document.getElementById("root")),it()}},[[431,1,2]]]);
//# sourceMappingURL=main.0cc63ccc.chunk.js.map